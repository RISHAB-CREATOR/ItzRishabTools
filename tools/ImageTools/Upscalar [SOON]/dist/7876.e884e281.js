/*! For license information please see 7876.e884e281.js.LICENSE.txt */
"use strict";(self.webpackChunkimg2go=self.webpackChunkimg2go||[]).push([[7876],{27876:function(t,e,n){n.r(e);n(26699),n(32023),n(66992),n(41539),n(88674),n(78783),n(33948),n(82772),n(66801),n(33824),n(25511),n(69872),n(11007),n(77424),n(8471),n(52776),n(43863);var r=n(60684),i=n(40406),o=n(64185),a=n(47068),u=(n(68309),n(69600),n(82131)),s=n(38232),l=n(46473),c=n(87506),p="unknown";navigator.connection&&navigator.connection.effectiveType&&(p="4g"===navigator.connection.effectiveType?"fast":"slow");var f=document.documentElement,d=window.innerWidth||self.innerWidth||f&&f.clientWidth||document.body.clientWidth,h=window.innerHeight||self.innerHeight||f&&f.clientHeight||document.body.clientHeight,g=(0,l.tq)();var y=function(t){return t<567?"xs":t<768?"sm":t<1200?"md":t<1400?"lg":"xl"}(d);function v(t){try{var e=s.f.getApiUrl("api/z"),n=JSON.stringify({data:{message:"webvital_"+t.name.toLowerCase(),value:t.value,origin:[location.pathname].join(""),connection_type:p,w:d,h:h,mobile:g,status:sat.statusCode,bs_break_point:y}}),r=new Blob([n],{type:"text/plain"});if(navigator.sendBeacon&&navigator.sendBeacon(e,r))return;fetch(e,{body:n,method:"POST",keepalive:!0})}catch(t){c.P.log("exception while sending vitals analytics",t)}}try{(0,u.kz)(v),(0,u.Tx)(v),(0,u.Tb)(v),(0,u.Y)(v),(0,u.CA)(v)}catch(t){}n(46144);var m=n(42590),b=n(24273),_=n(26947),w=n(72997),I=n(33409),S=n(68336),k=n(19755),x=n(19755);n.g.$=n.g.jQuery=x,window.satConnectionType="unknown",navigator.connection&&navigator.connection.effectiveType&&("4g"===navigator.connection.effectiveType?window.satConnectionType="fast":window.satConnectionType="slow"),x(document).ajaxSend((function(t,e,n){n.url.includes("dragon")&&e.setRequestHeader("locale",sat.locale)})),(0,I.Ae)(),window.qgQueryFragmentHelper={getCurrentQueryData:i.MF,getCurrentFragmentData:i.AK,getValueFromCurrentUrl:i.NC,getFragmentStringFromUrl:i.TL},window.qgCookieHelper=o.gY,window.satToken=r.E,Promise.resolve().then(n.bind(n,87600)),Promise.resolve().then(n.bind(n,49783)),!0===window.QG_LIMIT_SYSTEM||((0,a.Rw)(),window.QG_LIMIT_SYSTEM=!0),void 0!==window.qgadconfig&&"Online-Convert"!==sat.project_name&&Promise.all([n.e(7548),n.e(8041),n.e(1272)]).then(n.bind(n,21272)).then((function(){})),n.e(2407).then(n.t.bind(n,42407,23)).then((function(){var t;(null===(t=window.sat)||void 0===t?void 0:t.enableUserModalFlow)?Promise.all([n.e(8345),n.e(9347),n.e(7996),n.e(2621),n.e(4976)]).then(n.bind(n,14565)).then((function(){Promise.all([n.e(8345),n.e(9347),n.e(7996),n.e(2621),n.e(9305)]).then(n.bind(n,70409))})):Promise.all([n.e(8345),n.e(9347),n.e(7996),n.e(2621),n.e(9305)]).then(n.bind(n,70409)),Promise.all([n.e(8345),n.e(9347),n.e(7996),n.e(2621),n.e(3807)]).then(n.bind(n,34874)),Promise.all([n.e(8345),n.e(9347),n.e(7996),n.e(2621),n.e(2461),n.e(2068)]).then(n.bind(n,97)),Promise.all([n.e(8041),n.e(1586)]).then(n.bind(n,57169)),x(".footer-contact-us").on("click",(function(){Promise.all([n.e(8345),n.e(4643),n.e(9197)]).then(n.bind(n,8374)).then((function(){setTimeout((function(){m.Y.emit(b.h)}),100)}))})),Promise.all([n.e(8345),n.e(4643),n.e(7884),n.e(6545)]).then(n.bind(n,2371))})),k.cachedScript=function(t,e){return e=x.extend(e||{},{dataType:"script",cache:!0,url:t}),k.ajax(e)},x("body").tooltip({selector:"[data-toggle=tooltip]",trigger:"hover"}),x((function(){x(document).on("click","[data-hide]",(function(){return x(this).closest("."+x(this).attr("data-hide")).hide(),!1})),(0,S.D4)(),window.satConnectionType&&qgLogger.log("connection_".concat(window.satConnectionType))}));!function(){try{var t=(0,_.H)();if(!(0,w.Rt)(t))return;x(".language-selector-link").each((function(e,n){var r=x(n),i=r.attr("href");-1===i.indexOf("#")&&r.attr("href",i+t)}))}catch(t){}}(),window.onpageshow=function(t){t.persisted&&window.location.reload()},!0===window.sat.softonic&&(window.googlefc=window.googlefc||{},window.googlefc.ccpa=window.googlefc.ccpa||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],window.googlefc.callbackQueue.push({AD_BLOCK_DATA_READY:function(){switch(googlefc.getAllowAdsStatus()){case googlefc.AllowAdsStatusEnum.ADS_NOT_ALLOWED:o.gY.setCookie("qg_consent",!0,31557600);break;case googlefc.AllowAdsStatusEnum.ADS_ALLOWED:break;case googlefc.AllowAdsStatusEnum.UNKNOWN:o.gY.setCookie("qg_consent_rejected",!1,1209600)}}}))},74336:function(t,e,n){n.d(e,{$7:function(){return u},D$:function(){return g},DC:function(){return y},FK:function(){return r},NW:function(){return m},QG:function(){return i},ZH:function(){return s},Zf:function(){return c},bs:function(){return v},cM:function(){return a},db:function(){return h},hI:function(){return o},lV:function(){return f},rt:function(){return d},sZ:function(){return l},u7:function(){return p}});var r="api-error-broken-server-response",i="api-error-connection-problem",o="api-error-EXCEPTION",a="api-error-invalid-conversion-options",u="api-error-job-can-not-be-mofified",s="api-error-job-not-found",l="api-error-file-too-large",c="uploader-error-too-many-inputs",p="api-error-youtube-forbidden",f="api-error-payment-required",d="api-error-unexpected-job-status",h="api-error-too-many-retries",g="api-error-unknown",y="api-error-not-implemented",v="api-error-url-too-long",m=[r,i,"api-error-try-reload",o,"api-error-invalid-api-key",a,u,s,l,c,p,"uploader-error-no-upload-server","api-error-overuse",f,d,h,g,y,v]},47068:function(t,e,n){n.d(e,{Rw:function(){return C},z9:function(){return k}});n(9494),n(9653),n(89554),n(41539),n(54747),n(88674),n(69070),n(82526),n(41817),n(32165),n(66992),n(78783),n(33948),n(72443),n(39341),n(73706),n(10408),n(30489),n(68309),n(68304),n(65069),n(47042);var r=n(33409),i=n(79979),o=n(56413),a=n(72997),u=n(13962),s=n(16553),l=n(87506),c=n(74336),p=n(15899),f=n(23091),d=n(84697),h=n(81724),g=n(42590),y=n(20144),v=n(37554);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(){b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),u=new C(i||[]);return r(a,"_invoke",{value:S(t,n,u)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function f(){}function d(){}function h(){}var g={};s(g,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(g=v);var _=h.prototype=f.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function i(r,o,a,u){var s=c(t[r],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==m(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function S(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=k(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=h,r(_,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},w(I.prototype),s(I.prototype,a,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(_),s(_,u,"Generator"),s(_,o,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function _(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}var w=null;function I(){var t;return t=b().mark((function t(){var e,n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.Z.getUser();case 2:e=t.sent,n=e.getRawMeData(),r=[],(0,a.Hm)(n.constraints_status)&&n.constraints_status.forEach((function(t){r.push(s.A.createFromConstraintStatus(t))})),w.limits.addLimitsPageLoad(r);case 7:case"end":return t.stop()}}),t)})),I=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_(o,r,i,a,u,"next",t)}function u(t){_(o,r,i,a,u,"throw",t)}a(void 0)}))},I.apply(this,arguments)}function S(t){(0,f.bG)(t);var e=[];return(0,a.Hm)(t)&&t.forEach((function(t){(0,p.u)(t)&&e.push(s.A.createFromConstraintStatus(t))})),(0,a.fl)(e)&&e.push(new s.A(u.Y7)),e}function k(t){var e=S(t);w.limits.addLimitsUploaderEvent(e)}var x=!1;var O=!1;function C(){O?l.P.log("limits system initialized multiple times"):(O=!0,w=(0,r.uz)(),x||(x=!0,(0,y.YP)((function(){return w.user.getUser}),(function(t){var e="unregistered";t.isRegistered()&&(e="registered"),t.isPremium()&&(e="premium");var n="qgrole="+e+"; max-age=86400; path=/;";(0,a.Rb)(window.sat.cookieDomain)&&(n+="domain="+window.sat.cookieDomain+";"),document.cookie=n}))),function(){g.Y.listen(i.GH,(function(t){if(t.event===i.E2&&(0,a.Hm)(t.data)){var e=S(t.data);w.limits.addLimitsUploaderEvent(e)}}));var t=!1;g.Y.listen(i.GH,(function(e){var r;if((0,o._O)(e.event)&&e.event===i.nY){var p=!0===(null===(r=n.g.pageConfig)||void 0===r?void 0:r.singleFile),f=e.data,g=f.error;if(!p||g!==c.Zf){var y=null,v=w.job.getConstraints;if(g===c.u7){var m=(0,d.I)("Unfortunately, we are not authorized to download videos from this platform.");l.P.log("external url helper - add fail - youtube"),setTimeout((function(){t=!1}),5e3),t||(h.F.warning(m),t=!0)}if(g===c.Zf){var b;y=new s.A(u.w5);var _=Number.parseInt(null==v||null===(b=v.job)||void 0===b||null===(b=b.inputs)||void 0===b?void 0:b.max_count);(0,a.uC)(_)&&(1===_&&(y.type=u.to),y.maxValue=_)}if(g===c.sZ){var I;(y=new s.A(u.GG)).currentValue=f.size;var S=Number.parseInt(null==v||null===(I=v.job)||void 0===I||null===(I=I.inputs)||void 0===I?void 0:I.max_size);(0,a.uC)(S)&&(y.maxValue=S)}if(null!==y){var k=[];k.push(y),w.limits.addLimitsUploaderEvent(k)}}}}))}(),function(){I.apply(this,arguments)}())}},16553:function(t,e,n){n.d(e,{A:function(){return l}});n(96649),n(96078),n(82526),n(41817),n(41539),n(9653),n(69070),n(32165),n(66992),n(78783),n(33948);var r=n(13962),i=n(72997);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function u(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"type",null),u(this,"currentTtl",null),u(this,"ttl",null),u(this,"hit",null),u(this,"ident",null),u(this,"triggeredBy",null),u(this,"constraintType",null),u(this,"currentValue",null),u(this,"maxValue",null),u(this,"expiresAt",null),this.type=e}var e,n,o;return e=t,o=[{key:"createFromConstraintStatus",value:function(e){var n=new t,o=r.qn;return"conversion_option"===e.type?(o=r.rT,"ocr"===e.triggered_by&&(o=r.hm)):"conversion_operation"===e.type?(o=r.fM,(0,i.uC)(e.max_value)&&0===e.max_value&&(o=r.zE)):"concurrent_conversions"===e.type?o=r.SX:"rate_limit"===e.type?o=r.Z:"credits_consumed"===e.type&&(o=r.XA),n.type=o,n.constraintType=e.type,(0,i.Rt)(e.ident)&&(n.ident=e.ident),(0,i.uC)(e.current_ttl)&&(n.currentTtl=e.current_ttl,e.current_ttl>0&&(n.expiresAt=Date.now()+e.current_ttl)),(0,i.uC)(e.ttl)&&(n.ttl=e.ttl),(0,i.uC)(e.current_value)&&(n.currentValue=e.current_value),(0,i.uC)(e.max_value)&&(n.maxValue=e.max_value),(0,i.Rt)(e.triggered_by)&&(n.triggeredBy=e.triggered_by),(0,i.b_)(e.hit)&&(n.hit=e.hit),n}}],(n=null)&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},49783:function(t,e,n){n.r(e);n(74916),n(15306),n(82772);var r=n(84697),i=n(19755);i(document).on("click",".bookmark-btn",(function(t){if(t.preventDefault(),window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(document.title,window.location.href,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(location.href,document.title);else{if(window.opera&&window.print)return i(this).attr("rel","sidebar").attr("title",document.title).attr("href",window.location.href),!0;var e=(0,r.I)("You can add this page to your bookmarks by pressing %s + D on your keyboard.");e=e.replace("%s",-1!==navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL"),alert(e)}return!1}))},68336:function(t,e,n){n.d(e,{D4:function(){return o},ul:function(){return i}});n(56977),n(69600);var r=n(19755);function i(){r(".toggle-placeholder").each((function(t,e){var n=r(e),i=n.prop("placeholder");n.on("focus",(function(){n.prop("placeholder","")})),n.on("blur",(function(){n.prop("placeholder",i)}))}))}function o(){var t=r(".support-link");0!==t.length&&t.on("click",(function(t){return t.preventDefault(),window.location=function(t,e){for(var n=0,r="",i=0;i<t.length;i++)(n=t.charCodeAt(i))>=8364&&(n=128),r+=String.fromCharCode(n-1);return void 0!==e&&""!=e?r+e:r}(r(this).data("encrypted")),!1}))}},82017:function(t,e,n){n.d(e,{G4:function(){return p},JR:function(){return u},Mk:function(){return a},Oi:function(){return c},Sj:function(){return l},T2:function(){return d},YH:function(){return f},cV:function(){return s},dI:function(){return o}});var r=n(56413),i=n(90289),o=function(t){if(!(0,r.Qu)(t))throw new Error((0,i.R)("invalid raw job object"))},a=function(t){if(!(0,r.dA)(t))throw new Error((0,i.R)("invalid raw input info"))},u=function(t){if(!(0,r.Ze)(t))throw new Error((0,i.R)("invalid input status (uploader)"))},s=function(t){if(!(0,r.K)(t))throw new Error((0,i.R)("invalid input status (api)"))},l=function(t){if(!(0,r.vA)(t))throw new Error((0,i.R)("invalid input type"))},c=function(t){if(!(0,r._O)(t))throw new Error((0,i.R)("invalid input event"))},p=function(t){if(!(0,r.T)(t))throw new Error((0,i.R)("invalid global event"))},f=function(t){if(!(0,r.py)(t))throw new Error((0,i.R)("invalid fileuploadconfig"))},d=function(t){if(!(0,r.d3)(t))throw new Error((0,i.R)("invalid uploaderevent"))}},90375:function(t,e,n){n.d(e,{Ar:function(){return x},B9:function(){return j},DU:function(){return P},IS:function(){return N},Ic:function(){return k},Ky:function(){return f},OW:function(){return w},Pd:function(){return v},V5:function(){return o},Y1:function(){return h},Yh:function(){return O},Zz:function(){return p},__:function(){return _},_z:function(){return l},aS:function(){return y},dC:function(){return S},dp:function(){return i},eG:function(){return a},eV:function(){return I},j1:function(){return E},kA:function(){return d},lr:function(){return b},m:function(){return c},nI:function(){return g},qQ:function(){return s},qe:function(){return C},s8:function(){return u},yg:function(){return m}});var r=n(82017),i="ready",o="failed",a="downloading",u="canceled",s=[i,o,a,u],l="input-status-queued",c="input-status-submitting-to-api",p="input-status-loading",f="input-status-done",d="input-status-setting-password",h="input-status-password-missing",g="input-status-deleting",y="input-status-deleted",v="input-status-failed",m=[l,c,p,f,d,h,g,y,v],b=function(t){return(0,r.JR)(t),t!==l&&(t!==y&&t!==v)},_="type-external-url",w="type-upload",I="type-gdrive",S="type-input-id",k="type-dropbox",x=[_,w,I,S,k],O="set-password-error-unknown-error",C="set-password-error-already-setting",j="set-password-error-wrong-password",E=3,P=6,N=34},79979:function(t,e,n){n.d(e,{AN:function(){return h},DA:function(){return E},D_:function(){return j},E2:function(){return c},GH:function(){return P},GW:function(){return x},MW:function(){return k},N8:function(){return g},NY:function(){return l},Nd:function(){return S},Q8:function(){return m},R_:function(){return O},Vg:function(){return p},XY:function(){return u},ZH:function(){return v},dK:function(){return w},et:function(){return C},fQ:function(){return s},nY:function(){return _},o0:function(){return b},vE:function(){return I},ww:function(){return y},yR:function(){return f}});n(96649),n(96078),n(82526),n(41817),n(41539),n(9653),n(69070),n(32165),n(66992),n(78783),n(33948);var r=n(56413);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var u="global-event-job-create-start",s="global-event-job-create-done",l="global-event-job-create-fail",c="global-event-job-create-payment-required",p="global-event-too-many-inputs",f="global-event-input-too-large",d="global-event-job-too-large",h="global-event-youtube-forbidden",g=[u,s,l,c,p,f,d,h],y="input-event-queued",v="input-event-start-submitting",m="input-event-start-loading",b="input-event-done",_="input-event-fail",w="input-event-setting-password",I="input-event-password-missing",S="input-event-upload-canceled",k="input-event-deleting",x="input-event-deleted",O="input-event-upload-progress",C="input-event-update-status",j=[y,v,m,b,_,w,I,S,k,x,O,C],E=a((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!(0,r._O)(e)&&!(0,r.T)(e))throw new Error("this is not a valid uploader event: "+e);this.event=e,this.localId=null,this.data=null})),P="uploader-event"},68917:function(t,e,n){n.d(e,{S:function(){return s}});n(74916),n(4723);var r=n(23091),i=n(56413),o=n(87506),a=n(90375),u=n(19755);function s(t){this._isValid=!0,this._data={},this._inputs={},(0,i.Qu)(t)?this._data=t:this._isValid=!1}s.prototype.isValid=function(){return this._isValid},s.prototype.getId=function(){return(0,r.GY)(this._isValid),this._data.id},s.prototype.getConversionId=function(){(0,r.GY)(this._isValid);try{return this._data.conversion[0].id}catch(t){}return null},s.prototype.getConversionTarget=function(){(0,r.GY)(this._isValid);try{return this._data.conversion[0].target}catch(t){}return null},s.prototype.getToken=function(){return(0,r.GY)(this._isValid),this._data.token},s.prototype.getServer=function(){return(0,r.GY)(this._isValid),this._data.server},s.prototype.getUploadUrl=function(){return(0,r.GY)(this._isValid),this.getServer()+"/upload-file/"+this.getId()},s.prototype.getUploadUrlBase64=function(){return(0,r.GY)(this._isValid),this.getServer()+"/upload-base64/"+this.getId()},s.prototype.getFallbackUploadUrl=function(){(0,r.GY)(this._isValid);var t=this.getServer().match(/^[^:]*:\/\/([^.]+)\.([^\/]+)(\/.*)$/);if(null===t)return o.P.error("Can not create fallback upload url",this.getServer()),this.getUploadUrl();var e=t[1],n=t[3];return function(){var t=window.location;return t.origin?t.origin:t.protocol+"//"+t.hostname+(t.port&&":"+t.port)}()+"/upload-redirect/"+e+n+"/upload-file/"+this.getId()},s.prototype.getInput=function(t){(0,r.GY)(this._isValid),(0,r.A2)(t);var e=null;return u.each(this._data.input,(function(n,r){r.id===t&&(e=r)})),e},s.prototype.getInputs=function(){return(0,r.GY)(this._isValid),this._data.input},s.prototype.getInputError=function(t){(0,r.GY)(this._isValid),(0,r.A2)(t);var e=null;return u.each(this._data.errors,(function(n,r){r.hasOwnProperty("id_source")&&r.id_source===t&&(e=r)})),e},s.prototype.getInputWarning=function(t){(0,r.GY)(this._isValid),(0,r.A2)(t);var e=null;return u.each(this._data.warnings,(function(n,r){r.hasOwnProperty("id_source")&&r.id_source===t&&(e=r)})),e},s.prototype.isInputReady=function(t){return(0,r.GY)(this._isValid),(0,r.A2)(t),this.getInput(t).status===a.dp},s.prototype.isInputDownloading=function(t){return(0,r.GY)(this._isValid),(0,r.A2)(t),this.getInput(t).status===a.eG},s.prototype.getRawJobInfo=function(){return(0,r.GY)(this._isValid),this._data}},56413:function(t,e,n){n.d(e,{Cq:function(){return s},K:function(){return c},Qu:function(){return a},T:function(){return f},Ze:function(){return l},_O:function(){return d},d3:function(){return g},dA:function(){return u},py:function(){return h},vA:function(){return p}});n(26699),n(32023);var r=n(72997),i=n(90375),o=n(79979);n(67839);function a(t){return!!(0,r.jV)(t)&&(!!(0,r.yv)(t.id)&&(!!(0,r.Rt)(t.server)&&(!!(0,r.Rt)(t.token)&&!!(0,r.Hm)(t.conversion))))}function u(t){return!!(0,r.jV)(t)&&(!!(0,r.yv)(t.id)&&(!!(0,r.Rb)(t.source)&&(!!(0,r.Rt)(t.type)&&(!!(0,r.jV)(t.metadata)&&!(!(0,r.Rb)(t.status)||!c(t.status))))))}function s(t){return!!(0,r.jV)(t)&&(!!(0,r.fN)(t,"id")&&(!!(0,r.yv)(t.id.job)&&(!!(0,r.yv)(t.id.input)&&(!!(0,r.jV)(t.metadata)&&!!(0,r.b_)(t.completed)))))}function l(t){return!!(0,r.Rt)(t)&&(0,r.ml)(i.yg,t)}function c(t){return!!(0,r.Rt)(t)&&(0,r.ml)(i.qQ,t)}function p(t){return!!(0,r.Rt)(t)&&(0,r.ml)(i.Ar,t)}function f(t){return!!(0,r.Rt)(t)&&(0,r.ml)(o.N8,t)}function d(t){return!!(0,r.Rt)(t)&&(0,r.ml)(o.D_,t)}function h(t){return!!(0,r.jV)(t)&&((0,r.fN)(t,"fileUploadInputId")&&(0,r.fN)(t,"maxFileSize"))}function g(t){return t instanceof o.DA}},67839:function(t,e,n){n.d(e,{P:function(){return pt},Q:function(){return ft}});n(89554),n(41539),n(54747),n(91058),n(96649),n(96078),n(82526),n(41817),n(9653),n(69070),n(32165),n(66992),n(78783),n(33948);var r=n(82017),i=n(23091),o=n(72997),a=n(87506),u=n(90375);function s(t){(0,r.Sj)(t),this._type=t,this._name="",this._callback=null,this._localId=null,this._size=null,this._inputId=null,this._status=u._z,this._metadata=null,this._content_type=null,this._engine=null,this._source=null,this._uploadData=null}s.prototype.getType=function(){return(0,r.Sj)(this._type),this._type},s.prototype.getLocalId=function(){return this._localId},s.prototype.setMetadata=function(t){return this._metadata=t,this},s.prototype.getMetadata=function(){return this._metadata},s.prototype.setContentType=function(t){return this._content_type=t,this},s.prototype.getContentType=function(){return this._content_type},s.prototype.setEngine=function(t){return this._engine=t,this},s.prototype.getEngine=function(){return this._engine},s.prototype.setSource=function(t){return this._source=t,this},s.prototype.getSource=function(){return this._source},s.prototype.setLocalId=function(t){return(0,i.VW)(t),(0,i.GY)(t>=0),this._localId=t,this},s.prototype.getCallback=function(){return this._callback},s.prototype.setCallback=function(t){return(0,i.t9)(t),this._callback=t,this},s.prototype.getName=function(){return this._name},s.prototype.setName=function(t){return(0,i.pX)(t),this._name=t,this},s.prototype.getSize=function(){return this._size},s.prototype.setSize=function(t){return(0,i.VW)(t),(0,i.GY)(t>=0),this._size=t,this},s.prototype.getInputId=function(){return this._inputId},s.prototype.setInputId=function(t){return(0,i.A2)(t),this._inputId=t,this},s.prototype.getStatus=function(){return this._status},s.prototype.setStatus=function(t){return(0,r.JR)(t),this._status=t,this},s.prototype.setUploadData=function(t){return(0,i.GY)(this._type===u.OW),this._uploadData=t,this},s.prototype.getUploadData=function(){return(0,i.GY)(this._type===u.OW),(0,i.kM)(this._uploadData),this._uploadData},s.prototype.isInApi=function(){return(0,u.lr)(this._status)},s.prototype.isQueued=function(){return this._status===u._z},s.prototype.isSubmitting=function(){return this._status===u.m},s.prototype.isLoading=function(){return this._status===u.Zz},s.prototype.isDone=function(){return this._status===u.Ky},s.prototype.isPasswordMissing=function(){return this._status===u.Y1},s.prototype.isDeleting=function(){return this._status===u.nI},s.prototype.isFileUploading=function(){return this._type===u.OW&&this._status===u.Zz},s.prototype.isRemoteInputDownloading=function(){return this._type!==u.OW&&this._status===u.Zz};var l=n(68917),c=n(17105),p=n(19755);function f(t,e){(0,o.jV)(e)||(e={}),this._api=t,this._jobInfoHelper=null,this._isJobCreationFailed=!1,this._isCreating=!1,this._isUploadServerReachable=!0}f.prototype.reset=function(){(0,i.IV)(this._isCreating),this._jobInfoHelper=null,this._isJobCreationFailed=!1,this._isCreating=!1,this._isUploadServerReachable=!0},f.prototype.initFromExistingJob=function(t){(0,i.aq)(this._jobInfoHelper),(0,i.IV)(this._isCreating),(0,i.A2)(t),this.reset();var e=p.Deferred(),n=this;return n._isCreating=!0,this._api.getJobInfo(t).done((function(t){n._jobInfoHelper=new l.S(t),e.resolve(t),n._isCreating=!1})).fail((function(t){n._isJobCreationFailed=!0,e.reject(t),n._isCreating=!1})),e},f.prototype.create=function(t){(0,i.aq)(this._jobInfoHelper),(0,i.IV)(this._isCreating),this.reset();var e=p.Deferred(),n=this;return n._isCreating=!0,this._api.createJob(t).done((function(t){n._jobInfoHelper=new l.S(t),e.resolve(t),n._isCreating=!1})).fail((function(t){(0,c.T)(t),n._isJobCreationFailed=!0,e.reject(t),n._isCreating=!1})),e},f.prototype.createWithServerCheck=function(t){(0,i.aq)(this._jobInfoHelper),(0,i.IV)(this._isCreating),this.reset();var e=p.Deferred(),n=this;return n._isCreating=!0,this._api.createJobWithUploadServerCheck(t,2).done((function(t,r){n._jobInfoHelper=new l.S(t),n._isCreating=!1,n._isUploadServerReachable=r,e.resolve(t)})).fail((function(t,r){(0,c.T)(t),n._isJobCreationFailed=!0,n._isCreating=!1,e.reject(t,r)})),e},f.prototype.isCreated=function(){return null!==this._jobInfoHelper},f.prototype.isCreating=function(){return this._isCreating},f.prototype.isFailed=function(){return this._isJobCreationFailed},f.prototype.isUploadServerReachable=function(){return this._isUploadServerReachable},f.prototype.getId=function(){return(0,i.IV)(this._isJobCreationFailed),null===this._jobInfoHelper?null:this._jobInfoHelper.getId()},f.prototype.getConversionId=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getConversionId()},f.prototype.getConversionTarget=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getConversionTarget()},f.prototype.getUploadToken=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getToken()},f.prototype.getServerUrl=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getServer()},f.prototype.getUploadUrl=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getUploadUrl()},f.prototype.getFallbackUploadUrl=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getFallbackUploadUrl()},f.prototype.getJobInfo=function(){(0,i.IV)(this._isJobCreationFailed),(0,i.kM)(this._jobInfoHelper);var t=p.Deferred(),e=this;return this._api.getJobInfo(e.getId()).done((function(n){(0,r.dI)(n),e._jobInfoHelper=new l.S(n),t.resolve(n)})).fail((function(e){(0,c.T)(e),t.reject(e)})),t},f.prototype.getCachedJobInfo=function(){(0,i.IV)(this._isJobCreationFailed),(0,i.kM)(this._jobInfoHelper);var t=p.Deferred(),e=this;return this._api.getCachedJobInfo(e.getId()).done((function(n){(0,r.dI)(n),e._jobInfoHelper=new l.S(n),t.resolve(n)})).fail((function(e){(0,c.T)(e),t.reject(e)})),t},f.prototype.getRawJobInfo=function(){return(0,i.IV)(this._isJobCreationFailed),this._jobInfoHelper.getRawJobInfo()},f.prototype.waitForRemoteInput=function(t){var e=this._jobInfoHelper.getId();return this._api.waitForRemoteInput(e,t)};n(26699),n(32023);var d=n(19755),h=function(t,e){(0,i.bG)(t),(0,i.t9)(e);var n=0;return d.each(t,(function(t,r){e(r)&&n++})),n};function g(t){this._inputs=[],this._maxNumberOfInputs=60,t.hasOwnProperty("maxNumberOfInputs")&&(this._maxNumberOfInputs=t.maxNumberOfInputs)}g.prototype._assertThatInputExists=function(t){(0,i.Gb)(this._inputs,t)},g.prototype.getInput=function(t){return(0,i.VW)(t),this._assertThatInputExists(t),this._inputs[t]},g.prototype.getInputsInApi=function(){if(0===this._inputs.length)return[];var t=[];return this._inputs.forEach((function(e){e.isInApi()&&t.push(e)})),t},g.prototype.getInputs=function(){return this._inputs},g.prototype.addInput=function(t){var e=this._inputs.length;return t.setLocalId(e),this._inputs.push(t),e},g.prototype.isInputLimitReached=function(){var t=this.getNumberOfInputsInApi();return(0,i.IV)(t>this._maxNumberOfInputs),t>=this._maxNumberOfInputs},g.prototype.getNumberOfAllInputs=function(){return this._inputs.length},g.prototype.getNumberOfQueuedInputs=function(){return h(this._inputs,(function(t){return t.isQueued()}))},g.prototype.getNumberOfInputsInApi=function(){return h(this._inputs,(function(t){return t.isInApi()}))},g.prototype.getNumberOfDoneInputs=function(){return h(this._inputs,(function(t){return t.isDone()}))},g.prototype.getNumberOfDeletingInputs=function(){return h(this._inputs,(function(t){return t.isDeleting()}))},g.prototype.getNumberOfActiveFileUploads=function(){return h(this._inputs,(function(t){return t.isFileUploading()}))},g.prototype.getNumberOfSubmittingInputs=function(){return h(this._inputs,(function(t){return t.isSubmitting()}))},g.prototype.getNumberOfLoadingInputs=function(){return h(this._inputs,(function(t){return t.isLoading()}))},g.prototype.getNumberOfActiveRemoteInputsDownloading=function(){return h(this._inputs,(function(t){return t.isRemoteInputDownloading()}))},g.prototype.getNumberOfRemoteInputsForEngineCheck=function(){return h(this._inputs,(function(t){return t.getType()===u.__&&(t.isLoading()||t.isQueued()||t.isSubmitting())}))},g.prototype.getNumberOfPasswordMissing=function(){return h(this._inputs,(function(t){return[u.Y1,u.kA].includes(t.getStatus())}))},g.prototype.getBytesInJob=function(){var t=0;return d.each(this._inputs,(function(e,n){(n.isLoading()||n.isDone()||n.isPasswordMissing())&&(t+=n.getSize())})),t},g.prototype.getSizeOfAllInputs=function(){var t=0;return d.each(this._inputs,(function(e,n){t+=n.getSize()})),t};n(73210);var y=n(79979),v=n(74336),m=n(19755);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===b(o)?o:String(o)),r)}var i,o}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uploader=e}var e,n,a;return e=t,(n=[{key:"add",value:function(t,e){(0,i.pX)(t),(0,o.vV)(e)&&(e="auto"),t=t.trim();var n=this._uploader,a=new s(u.__);a.setName(t).setCallback((function(i){var o=m.Deferred(),a=n.getJob().getId();if(n.getInput(i).setStatus(u.m),n.getInput(i).setName(t),n.dispatchInputEvent(y.ZH,i),0===t.length){var s=new pt(v.D$);return n.failInput(i,s),o.resolve(),o}if(t.length>4e3){var l=new pt(v.bs);return n.failInput(i,l),o.resolve(),o}return n.getApiHelper().addExternalUrl(a,t,e).done((function(t){(0,r.Mk)(t);var e=t.id;n.getInput(i).setInputId(e),n.getInput(i).setStatus(u.Zz),n.dispatchInputEvent(y.Q8,i),n.waitForRemoteInput(i),o.resolve()})).fail((function(t){(0,c.T)(t);var e=new pt(t);n.failInput(i,e),o.resolve()})),o})),this._uploader._queueInput(a)}},{key:"click",value:function(t,e){this.add(t,e)}}])&&_(e.prototype,n),a&&_(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),I=(n(29254),n(68309),n(19755));function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===S(o)?o:String(o)),r)}var i,o}function x(){this.maxFileSize=8589934592}var O=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uploader=e,this._config=new x,(0,o.jV)(n)&&(0,o.fN)(n,"maxFileSize")&&(this._config=n),this._scriptLoaded=!1}var e,n,l;return e=t,(n=[{key:"add",value:function(){if(!window.hasOwnProperty("Dropbox"))return a.P.log("qgMultiUpload dropbox fail","dropbox JS missing"),void alert("Dropbox could not be initialized, please try again later!");var t=this._uploader,e=this._config,n=function(n,i,o){var l=new s(u.Ic);l.setName(o).setSize(i).setCallback((function(s){var l=I.Deferred();t.getInput(s).setName(o),t.getInput(s).setSize(i);var p=t.getBytesInJob()+i;if(p>e.maxFileSize){var f=new pt(v.sZ);return f.size=p,a.P.log("qgMultiUpload dropbox fail",{info:"file too large",filename:o,file_size:i,max_file_size:e.maxFileSize}),t.failInput(s,f),t.dispatchGlobalEvent(y.yR),l.resolve()}var d=t.getJob().getId();return t.getInput(s).setStatus(u.m),t.dispatchInputEvent(y.ZH,s),t.getApiHelper().addExternalUrl(d,n).done((function(e){(0,r.Mk)(e);var n=e.id;t.getInput(s).setInputId(n),t.getInput(s).setStatus(u.Zz),t.dispatchInputEvent(y.Q8,s),t.waitForRemoteInput(s),l.resolve()})).fail((function(e){(0,c.T)(e);var n=new pt(e);t.failInput(s,n),l.resolve()})),l})),t._queueInput(l)},i={success:function(t){I.each(t,(function(t,e){var r=e.link,i=0,o="Dropbox";e.hasOwnProperty("bytes")&&"number"==typeof e.bytes&&(i=e.bytes),e.hasOwnProperty("name")&&(o=e.name),n(r,i,o)}))},linkType:"direct",multiselect:!0};Dropbox.choose(i)}},{key:"click",value:function(){var t=this,e=function(){t._scriptLoaded=!0,t.add()};this._scriptLoaded?e():function(t){(0,i.t9)(t),function(){var e=document.createElement("script");e.type="text/javascript",e.setAttribute("data-app-key",window.pageConfig.dropboxKey),e.src="https://www.dropbox.com/static/api/2/dropins.js",e.id="dropboxjs",e.onload=t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}()}(e)}}])&&k(e.prototype,n),l&&k(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}(),C=(n(82772),n(91038),n(47941),n(74916),n(27837)),j=n(92735);function E(t){this._maxRetries=20,this._maxTimeOut_s=10,"number"==typeof t&&(this._maxRetries=t),this._currentRetry=0,this._sucessfulChunks=0,this._failedChunks=0}E.prototype.getCurrentRetry=function(){return this._currentRetry},E.prototype.getSuccessfullChunks=function(){return this._sucessfulChunks},E.prototype.getFailedChunks=function(){return this._failedChunks},E.prototype.handleChunkSuccess=function(){this._currentRetry=0,this._sucessfulChunks++},E.prototype.handleChunkFail=function(){this._currentRetry++,this._failedChunks++},E.prototype.isAllowedToRetry=function(){return this._currentRetry<=this._maxRetries},E.prototype.getTimeOutForNextChunk_s=function(){var t=2*this._currentRetry;return t>this._maxTimeOut_s?this._maxTimeOut_s:t},E.prototype.getTimeOutForNextChunk_ms=function(){return 1e3*this.getTimeOutForNextChunk_s()};n(69600),n(88674),n(57327),n(38880),n(49337),n(33321);var P=n(38232),N=n(46473);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F="unknown";navigator.connection&&navigator.connection.effectiveType&&(F="4g"===navigator.connection.effectiveType?"fast":"slow");var R=(0,N.tq)();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function H(t){var e=null,n=null,r=null;try{(0,o.Rt)(t.files[0].name)&&(e=t.files[0].name)}catch(t){}try{(0,o.uC)(t.files[0].size)&&(n=t.files[0].size)}catch(t){}try{(0,o.uC)(t.files[0].lastModified)&&(r=t.files[0].lastModified)}catch(t){}if(e!==t.pgInitialName||n!==t.pgInitialSize){var i="name initial: "+t.pgInitialName+" name now: "+e+" size initial: "+t.pgInitialSize+" size now: "+n+" last modified now: "+r;a.P.log("qgMultiUpload fileUpload info - file data changed",{info:i})}}function D(t){!function(t,e,n){try{var r=P.f.getApiUrl("api/z"),i=z(z({},{message:t.toLowerCase(),value:e,origin:[location.pathname].join(""),connection_type:F,mobile:R}),n),o=JSON.stringify({data:i}),u=new Blob([o],{type:"text/plain"});if(navigator.sendBeacon&&navigator.sendBeacon(r,u))return;fetch(r,{body:o,method:"POST",keepalive:!0})}catch(t){a.P.log("exception while sending analytics",t)}}("chunkinfo",0,t)}function M(){this._baseChunkSize=1e6,this._minChunkSize=1e5,this._maxChunkSize=1e8,this._speedModifier=3,this._maxSpeedModifier=5,this._currentChunkSize=-1,this._currentBitRate=-1,this._currentSpeedModifier=-1}M.prototype.increaseChunkSpeed=function(){this._limitSpeed(++this._speedModifier)},M.prototype.resetChunkSpeed=function(){this._speedModifier=1},M.prototype.getDynamicChunkSize=function(t){this._currentChunkSize=this._baseChunkSize,this._currentBitRate=-1,this._currentSpeedModifier=-1;try{var e=t.progress();if(e.loaded<this._baseChunkSize){var n=this._baseChunkSize;return t.pgRetryHandler.getCurrentRetry()>0&&(n=this._minChunkSize),this._currentChunkSize=n,n}if(1===this._speedModifier)return this._currentChunkSize=this._minChunkSize,this._minChunkSize;this._currentBitRate=parseInt(e.bitrate),this._currentSpeedModifier=this._speedModifier;var r=this._currentBitRate*this._speedModifier;this._currentChunkSize=this._limitChunk(r)}catch(t){}return this._currentChunkSize},M.prototype.setmaxChunkSize=function(t){this._maxChunkSize=t},M.prototype.getCurrentChunkSize=function(){return this._currentChunkSize},M.prototype.getCurrentBitRate=function(){return this._currentBitRate},M.prototype.getCurrentSpeedModifier=function(){return this._currentSpeedModifier},M.prototype._limitChunk=function(t){return Math.max(this._minChunkSize,Math.min(t,this._maxChunkSize))},M.prototype._limitSpeed=function(t){this._speedModifier=Math.max(1,Math.min(t,this._maxSpeedModifier))};var J=n(56413),q=n(19755);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t){return-1!==t.toLowerCase().indexOf("/upload-redirect/")}function Y(){this.maxFileSize=8589934592,this.enablePasswords=!0,this.enableUploadFallback=!1,this.fileUploadInputId="#fileUploadInput"}function B(t,e){(0,r.YH)(e),this._config=e,this._uploader=t,this._dynamicChunkHandler=new M,(0,i.LJ)(this._config.fileUploadInputId),(0,i.GY)(1===q(this._config.fileUploadInputId).length);var n=this;var u={singleFileUploads:!0,sequentialUploads:!1,maxChunkSize:function(t){return n._dynamicChunkHandler.getDynamicChunkSize(t)},autoUpload:!1,progressInterval:500,messages:{unknownError:"Unknown error",maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small",uploadedBytes:"Uploaded bytes exceed file size"}},s=q(this._config.fileUploadInputId).fileupload(u);s.on("fileuploadadd",(function(t,e){n._processFileUploadAdd(t,e)})),window.addEventListener("paste",(function(t){var e=t.clipboardData.files;e.length<1||Array.from(e).forEach((function(t){(0,o.yf)(t.type)?a.P.log("uploader - copy paste upload - failed",t):(s.fileupload("add",{files:t}),a.P.log("uploader - copy paste upload - success"))}))})),s.on("fileuploadsubmit",(function(t,e){n._processFileUploadSubmit(t,e)})),s.on("fileuploaddone",(function(t,e){n._processFileUploadChunk(t,e),n._processFileUploadDone(t,e)})),s.on("fileuploadfail",(function(t,e){n._processFileUploadChunk(t,e),n._processFileUploadFail(t,e)})),s.on("fileuploadprogress",(function(t,e){n._processFileUploadProgress(t,e)})),s.on("fileuploadchunkdone",(function(t,e){n._processFileUploadChunk(t,e),e.pgRetryHandler.handleChunkSuccess(),n._dynamicChunkHandler.increaseChunkSpeed()}))}B.prototype._processFileUploadAdd=function(t,e){var n="file";try{(0,o.Rt)(e.files[0].name)&&(n=e.files[0].name)}catch(t){}e.pgInitialName=n;var r=0;try{(0,o.uC)(e.files[0].size)&&(r=e.files[0].size)}catch(t){}e.pgInitialSize=r;var i=0;try{(0,o.uC)(e.files[0].lastModified)&&(i=e.files[0].lastModified)}catch(t){}if("file"===n||0===r)try{var l="name: "+n+" size: "+r;a.P.log("qgMultiUpload fileUpload info incorrect file data",l)}catch(t){}var c=this._uploader,p=this._config,f=new s(u.OW);f.setCallback((function(t){var o=q.Deferred();c.getInput(t).setName(n),c.getInput(t).setSize(r);var s=c.getBytesInJob()+r;if(s>p.maxFileSize){a.P.log("qgMultiUpload fileUpload fail file too large",{info:"file too large",filename:n,total_size:s,file_size:r,max_file_size:p.maxFileSize});var l=new pt(v.sZ);return l.size=s,c.failInput(t,l),c.dispatchGlobalEvent(y.yR),o.resolve()}var f=c.getJob();e.url=f.getUploadUrl(),e.pgLocalId=t,c.getInput(t).setStatus(u.Zz),c.dispatchInputEvent(y.Q8,t),e.headers={"X-Oc-Upload-Uuid":(0,C._)(),"X-Oc-Token":c.getJob().getUploadToken()},e.pgRetryHandler=new E;var d="file name: "+n+" file size: "+r+" file last modified: "+i;return a.P.log("qgMultiUpload fileUpload start",{info:d}),e.submit(),o.resolve(),o})).setSize(r).setName(n).setUploadData(e),c._queueInput(f)},B.prototype._processFileUploadSubmit=function(t,e){return!0},B.prototype._processFileUploadDone=function(t,e){if("string"==typeof e.result){a.P.log("qgMultiUpload fileUpload info",{info:"sever response was not parsed by browser",server_response:JSON.stringify(e.result)});try{e.result=JSON.parse(e.result)}catch(t){a.P.log("qgMultiUpload fileUpload fail",{info:"server response could not be parsed as JSON",server_response:JSON.stringify(e.result)})}}var n=e.result;if(!(0,J.Cq)(n))return a.P.log("qgMultiUpload fileUpload fail - invalid response",{info:"response: "+JSON.stringify(n)}),void this._uploader.failInput(e.pgLocalId);if(!0!==n.completed)return a.P.log("qgMultiUpload fileUpload fail - not completed",{info:"response: "+JSON.stringify(n)}),void this._uploader.failInput(e.pgLocalId);var r=e.pgLocalId,i=n.id.input;this._uploader.getInput(r).setInputId(i);var s=e.files[0].name,l=e.files[0].size;this._uploader.getInput(r).setName(s),this._uploader.getInput(r).setSize(l),(0,o.jV)(n.metadata)&&this._uploader.getInput(r).setMetadata(n.metadata);var c=(0,j.W)(n.metadata);this._config.enablePasswords&&c?(this._uploader.getInput(r).setStatus(u.Y1),this._uploader.dispatchInputEvent(y.vE,r)):(this._uploader.getInput(r).setStatus(u.Ky),this._uploader.dispatchInputEvent(y.o0,r)),e.pgRetryHandler.getFailedChunks()>0&&a.P.log("qgMultiUpload fileUpload info",{info:"upload needed retries",input_id:i,filename:s});var p="file name: "+s+" file size: "+l;G(e.url)&&(p+=" use upload fallback: true",a.P.log("qgMultiUpload fileUpload with fallback done")),a.P.log("qgMultiUpload fileUpload done",{input_id:i,info:p})},B.prototype._processFileUploadFail=function(t,e){if(e.pgCurrentBitrate=this._dynamicChunkHandler.getCurrentBitRate(),e.pgCurrentChunkSize=this._dynamicChunkHandler.getCurrentChunkSize(),e.pgCurrentSpeedModifier=this._dynamicChunkHandler.getCurrentSpeedModifier(),this._dynamicChunkHandler.resetChunkSpeed(),e.pgRetryHandler.handleChunkFail(),"abort"!==e.errorThrown){var n=!1;try{n="object"===V(e.jqXHR.responseJSON)}catch(t){}var r=null;try{r=e.jqXHR.responseJSON.error_code}catch(t){}var i=r===u.DU,o=!n||i,s=e.pgRetryHandler.isAllowedToRetry(),l=this._uploader.getJob();if(o&&s){return function(){try{var t=window.location.host.toLowerCase(),e=window.location.hostname.toLowerCase();return t.includes(".online-convert.")||e.includes(".online-convert.")}catch(t){}return window.location.href.includes(".online-convert.")}()&&0===e.uploadedBytes&&3===e.pgRetryHandler.getCurrentRetry()&&(a.P.log("qgMultiUpload fileUpload switch to upload fallback"),e.url=l.getFallbackUploadUrl(),this._dynamicChunkHandler.setmaxChunkSize(2e6)),function(t){var e=0,n="",r="";try{H(t),r="current retry: "+t.pgRetryHandler.getCurrentRetry(),r+=" | uploaded bytes: "+t.uploadedBytes,r+=" | file size: "+t.files[0].size,r+=" | file name: "+t.files[0].name,r+=" | bitrate: "+t.pgCurrentBitrate,r+=" | chunk size: "+t.pgCurrentChunkSize,r+=" | speed modifier: "+t.pgCurrentSpeedModifier;try{r+=" | file last modified: "+t.files[0].lastModified}catch(t){}t.hasOwnProperty("jqXHR")||(r+=" | jqXHR missing!");try{t.jqXHR.hasOwnProperty("status")&&(r+=" | status code: "+t.jqXHR.status)}catch(t){}try{t.jqXHR.hasOwnProperty("responseText")&&("string"==typeof t.jqXHR.responseText?r+=" | response text: "+t.jqXHR.responseText.substr(0,512):r+=" | response text: NOT A STRING "+JSON.stringify(t.jqXHR.responseText))}catch(t){}try{t.jqXHR.hasOwnProperty("responseJSON")&&("object"===A(t.jqXHR.responseJSON)?r+=" | response json: "+JSON.stringify(t.jqXHR.responseJSON):r+=" | response json: NOT AN OBJECT "+JSON.stringify(t.jqXHR.responseJSON))}catch(t){}t.hasOwnProperty("url")?"string"!=typeof t.url?r+=" | url: URL NOT A STRING":""===t.url?r+=" | url: EMPTY URL":r+=' | url: "'+t.url+'"':r+=" | url: NO URL",t.hasOwnProperty("headers")?r+=" | headers: "+JSON.stringify(t.headers):r+=" | headers: NO HEADERS";try{G(t.url)&&(r+=" | use upload fallback: true")}catch(t){}e=t.textStatus,n=t.errorThrown}catch(t){r="exception during logging",t.hasOwnProperty("message")&&(r+=": "+t.message)}a.P.log("qgMultiUpload fileUpload retry",{info:r,ajax_status:e,ajax_error:n})}(e),void window.setTimeout((function(){e.submit()}),e.pgRetryHandler.getTimeOutForNextChunk_ms())}!function(t){var e=0,n="",r="";try{H(t),r="retries: "+t.pgRetryHandler.getCurrentRetry(),r+=" | uploaded bytes: "+t.uploadedBytes;try{r+=" | file size: "+t.files[0].size}catch(t){}try{r+=" | file last modified: "+t.files[0].lastModified}catch(t){}try{r+=" | server response: "+t.jqXHR.responseText.substr(0,250)}catch(t){}try{r+=" | server error message: "+t.jqXHR.responseJSON.error.substr(0,250)}catch(t){}try{r+=" | status code: "+t.jqXHR.status}catch(t){}try{G(t.url)&&(r+=" | use upload fallback: true",a.P.log("qgMultiUpload fileUpload with fallback fail"))}catch(t){}e=t.textStatus,n=t.errorThrown}catch(t){r="exception during logging",t.hasOwnProperty("message")&&(r+=": "+t.message)}a.P.log("qgMultiUpload fileUpload fail",{info:r,ajax_status:e,ajax_error:n})}(e);var c=new pt(v.D$);r!==u.j1&&r!==u.IS||(c.error=v.sZ),this._uploader.failInput(e.pgLocalId,c)}else a.P.log("qgMultiUpload fileUpload abort",{ajax_status:e.textStatus,ajax_error:e.errorThrown})},B.prototype._processFileUploadProgress=function(t,e){var n={bitrate:e.bitrate,bytesLoaded:e.loaded,bytesTotal:e.total};this._uploader.dispatchInputEvent(y.R_,e.pgLocalId,n)},B.prototype._processFileUploadChunk=function(t,e){try{var n=e.url,r=/^(?:\w+\:\/\/)?([^\/]+)([^\?]*)\??(.*)$/.exec(n)[1].split(".")[0];D({event:t.type,bitrate:e.bitrate,bytesLoaded:e.loaded,bytesTotal:e.total,chunkSize:this._dynamicChunkHandler.getCurrentChunkSize(),status:e.jqXHR.status,server:r})}catch(t){}},B.prototype.click=function(){var t=this._config.fileUploadInputId,e=q(t);1===e.length&&(e.hasClass("disabled")||e.click())};n(72443),n(39341),n(73706),n(10408),n(30489),n(68304),n(65069),n(47042);var Q,Z=n(19755),W=n.n(Z);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function K(){K=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),u=new x(i||[]);return r(a,"_invoke",{value:w(t,n,u)}),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function f(){}function d(){}function h(){}var g={};s(g,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&n.call(v,o)&&(g=v);var m=h.prototype=f.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,o,a,u){var s=c(t[r],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==X(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=I(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,I(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=c(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(m,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,s(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(_.prototype),s(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,u,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=O,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function $(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===X(o)?o:String(o)),r)}var i,o}var et=null;function nt(){this.maxFileSize=8589934592,this.clientId=null,this.developerKey=null}var rt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uploader=e,this._config=new nt,(0,o.jV)(n)&&(0,o.fN)(n,"maxFileSize")&&(this._config=n),et=null}var e,n,r;return e=t,n=[{key:"add",value:function(t,e,n,r){var i=this._uploader,o=this._config;function l(){!0}function p(t){void 0!==t.action&&"picked"===t.action&&void 0!==t.docs&&W().each(t.docs,(function(t,e){var n=0,r="gDrive";e.hasOwnProperty("sizeBytes")&&"number"==typeof e.sizeBytes&&(n=e.sizeBytes),e.hasOwnProperty("name")&&(r=e.name),f(et,r,n,e.id,e.mimeType)}))}function f(t,e,n,r,l){var p=new s(u.eV);p.setCallback((function(s){var p=W().Deferred();i.getInput(s).setName(e),i.getInput(s).setSize(n);var f=i.getBytesInJob()+n;if(f>o.maxFileSize){a.P.log("qgMultiUpload gdrive fail",{info:"file too large",filename:e,file_size:n,max_file_size:o.maxFileSize});var d=new pt(v.sZ);return d.size=f,i.failInput(s,d),i.dispatchGlobalEvent(y.yR),p.resolve()}var h=i.getJob().getId();return i.getInput(s).setStatus(u.m),i.dispatchInputEvent(y.ZH,s),i.getApiHelper().addInput(h,{type:"gdrive_picker",source:r,credentials:{token:t},filename:e,content_type:l}).done((function(t){var e=t.id;i.getInput(s).setInputId(e),i.getInput(s).setStatus(u.Zz),i.dispatchInputEvent(y.Q8,s),i.waitForRemoteInput(s),p.resolve()})).fail((function(t){(0,c.T)(t);var e=new pt(t);i.failInput(s,e),p.resolve()})),p})).setName(e).setSize(n),i._queueInput(p)}"string"!=typeof t||"string"!=typeof e||"string"!=typeof n||"string"!=typeof r?null!==this._config.clientId&&null!==this._config.developerKey&&W().when(W().cachedScript("https://apis.google.com/js/api.js"),W().cachedScript("https://accounts.google.com/gsi/client")).done((function(){var t;gapi.load("picker",l),Q=google.accounts.oauth2.initTokenClient({client_id:o.clientId,scope:"https://www.googleapis.com/auth/drive.readonly https://www.googleapis.com/auth/drive.install ",callback:p}),!0,t=function(){(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCS).setOAuthToken(et).setDeveloperKey(o.developerKey).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setCallback(p).build().setVisible(!0)},Q.callback=function(){var e,n=(e=K().mark((function e(n){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.error){e.next=2;break}throw n;case 2:et=n.access_token,t();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){$(o,r,i,a,u,"next",t)}function u(t){$(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}(),null===et?Q.requestAccessToken({prompt:"consent"}):Q.requestAccessToken({prompt:""})})):f(e,t,0,n,r)}},{key:"click",value:function(){this._uploader.addGdrive()}}],n&&tt(e.prototype,n),r&&tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),it=n(19755);function ot(t){this._uploader=t}ot.prototype.add=function(t){(0,i.pX)(t);var e=this._uploader,n=new s(u.dC);n.setCallback((function(n){var i=it.Deferred(),o=e.getJob().getId();return e.getInput(n).setStatus(u.m),e.getInput(n).setName(t),e.dispatchInputEvent(y.ZH,n),e.getApiHelper().addInputId(o,t).done((function(t){(0,r.Mk)(t);var o=t.id;e.getInput(n).setInputId(o),e.getInput(n).setStatus(u.Zz),e.dispatchInputEvent(y.Q8,n),e.waitForRemoteInput(n),i.resolve()})).fail((function(t){(0,c.T)(t);var r=new pt(t);e.failInput(n,r),i.resolve()})),i})).setName(t),this._uploader._queueInput(n)};n(15306);var at=n(42590),ut=n(55831),st=n(19755);function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==lt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===lt(o)?o:String(o)),r)}var i,o}function pt(t){this.error=v.D$,this.size=null,this.maxFileSize=null,this.maxNumberOfInputs=null,t&&((0,c.T)(t),this.error=t)}var ft=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,i.u)(n),this._config=n,this._apiHelper=e,this._isEnabled=!0,this._inputList=new g(n),this._job=new f(e,n),this._queueIsBeingProcessed=!1,this._sentLogAboutMaxInputs=!1,this._maxFileSize=8589934592,this._maxNumberOfInputs=60,(0,o.uC)(n.maxNumberOfInputs)&&n.maxNumberOfInputs>0&&(this._maxNumberOfInputs=n.maxNumberOfInputs),(0,o.uC)(n.maxFileSize)&&(this._maxFileSize=n.maxFileSize),this._blockYouTubeUrls=!0,this._singleInput=1===n.maxNumberOfInputs,this._enablePasswords=!0===n.enablePasswords,this._showPasswordOnlyForSingleInput=!0===n.showPasswordOnlyForSingleInput,n.hasOwnProperty("blockYouTubeUrls")&&(this._blockYouTubeUrls=n.blockYouTubeUrls),this._addDropboxHelper=null,this._addGdriveHelper=null,this._addFileUploadHelper=null,this._addInputIdHelper=null,this._addExternalUrlHelper=null,this._setupAddHelper(n),this._jobData={},n.hasOwnProperty("jobData")&&(this._jobData=n.jobData),n.hasOwnProperty("jobId")&&this.initFromJobId(n.jobId)}var e,n,p;return e=t,(n=[{key:"_setupAddHelper",value:function(t){var e=new x;e.maxFileSize=this._maxFileSize,this._addDropboxHelper=new O(this,e);var n=new nt;n.maxFileSize=this._maxFileSize,(0,o.Rt)(t.gdriveClientId)&&(n.clientId=t.gdriveClientId),(0,o.Rt)(t.gdriveDeveloperKey)&&(n.developerKey=t.gdriveDeveloperKey),this._addGdriveHelper=new rt(this,n);var r=new Y;r.maxFileSize=this._maxFileSize,r.enableUploadFallback=!0===t.enableUploadFallback,r.enablePasswords=!0===t.enablePasswords,r.fileUploadInputId=t.fileUploadInputId,this._addFileUploadHelper=new B(this,r),this._addInputIdHelper=new ot(this),this._addExternalUrlHelper=new w(this)}},{key:"initFromJobId",value:function(t){(0,i.A2)(t);var e=st.Deferred(),n=this;return this._inputList=new g(this._config),this._job.initFromExistingJob(t).done((function(t){var r=new l.S(t).getInputs();n._tryToSetSatLimitsFromJobInfo(t),st.each(r,(function(t,e){var r=e.status;if(r!==u.V5&&r!==u.s8){var i=u.__;"upload"===e.type&&(i=u.OW),"gdrive_picker"===e.type&&(i=u.eV);var o=new s(i);o.setName(e.filename).setSize(e.size).setInputId(e.id);var l=n._inputList.addInput(o);if(n.dispatchInputEvent(y.ww,l),r===u.eG)return o.setStatus(u.Zz),n.dispatchInputEvent(y.Q8,l),void n.waitForRemoteInput(l);if(r!==u.dp)a.P.error("qgMultiUpload init fail unknown input status",JSON.stringify(e));else{var c=(0,j.W)(e.metadata);this._enablePasswords&&c?(o.setStatus(u.Y1),n.dispatchInputEvent(y.vE,l)):(o.setStatus(u.Ky),n.dispatchInputEvent(y.o0,l))}}})),n._submitNextQueuedInput(),e.resolve()})).fail((function(t){e.reject(v.D$)})),e}},{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isEmpty",value:function(){var t=this.getInputList();return 0===t.getNumberOfQueuedInputs()&&0===t.getNumberOfInputsInApi()}},{key:"isReadyToSubmit",value:function(t){var e=this.getInputList();return!(e.getNumberOfQueuedInputs()>0||0===e.getNumberOfInputsInApi()||e.getNumberOfSubmittingInputs()>0||e.getNumberOfActiveFileUploads()>0||e.getNumberOfDeletingInputs()>0||e.getNumberOfPasswordMissing()>0&&!0!==t)}},{key:"isWaitingForPasswords",value:function(){return this.getInputList().getNumberOfPasswordMissing()>0}},{key:"dispatchInputEvent",value:function(t,e,n){(0,r.Oi)(t);var i=new y.DA(t);i.localId=e,i.data=n,at.Y.emit(y.GH,i)}},{key:"dispatchGlobalEvent",value:function(t,e){(0,r.G4)(t);var n=new y.DA(t);(0,o.EI)(e)&&(n.data=e),at.Y.emit(y.GH,n)}},{key:"getJob",value:function(){return this._job}},{key:"getInput",value:function(t){return this._inputList.getInput(t)}},{key:"getInputList",value:function(){return this._inputList}},{key:"getApiHelper",value:function(){return this._apiHelper}},{key:"_queueInput",value:function(t){if(this._isEnabled){var e=this._inputList.addInput(t);this.dispatchInputEvent(y.ww,e);var n=this.getInput(e);if(this._blockYouTubeUrls&&n.getType()===u.__&&function(t){if((0,i.pX)(t),""===(t=t.replace(/\s/g,"")))return!1;var e="";try{var n=document.createElement("a");n.href=t,e=(e=n.hostname).toLowerCase()}catch(t){return!1}return-1!==e.indexOf("youtube.com")||-1!==e.indexOf("youtu.be")||-1!==e.indexOf("googlevideo.com")}(n.getName())){var o=new pt(v.u7);return this.failInput(e,o),void this.dispatchGlobalEvent(y.AN)}if(!this._job.isCreating())if(this._job.isCreated())this._queueIsBeingProcessed||this._submitNextQueuedInput();else{var s=this;this.dispatchGlobalEvent(y.XY),this._job.createWithServerCheck(this._jobData).done((function(t){(0,r.dI)(t),a.P.addLogData("job_id",s._job.getId()),s._tryToSetSatLimitsFromJobInfo(t),s.dispatchGlobalEvent(y.fQ),s._submitNextQueuedInput()})).fail((function(t,e){if((0,c.T)(t),t===v.lV)return s._failQueuedInputs(t),s._job.reset(),void s.dispatchGlobalEvent(y.E2,e);s._failQueuedInputs(t),s._job.reset(),s.dispatchGlobalEvent(y.NY,e)}))}}}},{key:"_submitNextQueuedInput",value:function(){this._queueIsBeingProcessed=!0;var t=this._getNextQueuedInput();if(null!==t){if(this.isInputLimitReached())return this._queueIsBeingProcessed=!1,this._failQueuedInputs(v.Zf,this._maxNumberOfInputs),this.dispatchGlobalEvent(y.Vg),void(this._sentLogAboutMaxInputs||(a.P.log("qgMultiUpload processQueuedInputs fail max number of inputs"),this._sentLogAboutMaxInputs=!0));var e=this._inputList.getInput(t),n=e.getSize()>this._maxFileSize,r=e.getSize()+this._inputList.getBytesInJob()>this._maxFileSize;if(n||r){a.P.log("qgMultiUpload queue fail",{info:"file too large",filename:e.getName(),file_size:e.getSize(),max_file_size:this._maxFileSize});var i=new pt(v.sZ);return i.size=e.getSize(),i.maxFileSize=this._maxFileSize,this.failInput(t,i),this.dispatchGlobalEvent(y.yR),null===this._getNextQueuedInput()?void(this._queueIsBeingProcessed=!1):void this._submitNextQueuedInput()}var o=e.getCallback(),u=this;o(e.getLocalId()).always((function(){null!==u._getNextQueuedInput()?u._submitNextQueuedInput():u._queueIsBeingProcessed=!1}))}else this._queueIsBeingProcessed=!1}},{key:"_getNextQueuedInput",value:function(){var t=null,e=this._inputList.getInputs();return st.each(e,(function(e,n){n.getStatus()===u._z&&null===t&&(t=e)})),t}},{key:"failInput",value:function(t,e){var n=new pt;(0,o.jV)(e)&&((0,i.gA)(e,"error"),n=e),this.getInput(t).setStatus(u.Pd),this.dispatchInputEvent(y.nY,t,n)}},{key:"deleteInput",value:function(t){var e=st.Deferred();if(this._isEnabled){var n=this.getInput(t),r=n.getStatus();if(r!==u.nI){if(r!==u.Y1&&r!==u.Ky)return this.dispatchInputEvent(y.et,t),void a.P.log("qgMultiUpload fail wrong state for being deleted",r);n.setStatus(u.nI),this.dispatchInputEvent(y.MW,t);var i=this;return this._apiHelper.deleteInputAndWait(this._job.getId(),n.getInputId()).done((function(){n.setStatus(u.aS),i.dispatchInputEvent(y.GW,t),e.resolve()})).fail((function(o){(0,c.T)(o),n.setStatus(r),i.dispatchInputEvent(y.et,t),e.reject()})),e}}}},{key:"setPassword",value:function(t,e){var n=st.Deferred();if(!this._isEnabled)return n.reject(u.Yh),n;var r=this.getInput(t),i=r.getStatus();if(i===u.kA)return n.reject(u.qe),n;if(i!==u.Y1)return a.P.log("qgMultiUpload fail wrong state for setting password",i),s.dispatchInputEvent(y.et,t),n.reject(u.Yh),n;r.setStatus(u.kA),this.dispatchInputEvent(y.dK,t);var s=this,l=this.getJob().getId(),c=r.getInputId();return s._apiHelper.setPassword(l,c,e).done((function(e){return(0,o.jV)(e)&&(0,o.jV)(e.metadata)?(0,j.W)(e.metadata)?(r.setStatus(i),s.dispatchInputEvent(y.et,t),void n.reject(u.B9)):(s.getInput(t).setStatus(u.Ky),s.dispatchInputEvent(y.o0,t),void n.resolve()):(a.P.log("qgMultiUpload set password - fail - metadata broken",JSON.stringify(e)),s.getInput(t).setStatus(u.Ky),s.dispatchInputEvent(y.o0,t),void n.reject(u.Yh))})).fail((function(e){a.P.log("qgMultiUpload set password fail",e+"input id: "+c),r.setStatus(i),s.dispatchInputEvent(y.et,t),n.reject(u.Yh)})),n}},{key:"cancelFileUpload",value:function(t){if(this._isEnabled){var e=this.getInput(t);if(e.getType()!==u.OW)throw new Error("only file uploads can be canceled");e.getStatus()===u.Zz?(e.getUploadData().abort(),e.setStatus(u.aS),this.dispatchInputEvent(y.Nd,t)):a.P.log("qgMultiUpload fileUpload wrong state while canceling")}}},{key:"_failQueuedInputs",value:function(t,e){var n=new pt(v.D$);(0,o.Rb)(t)&&((0,c.T)(t),n.error=t,t===v.Zf&&(0,o.uC)(e)&&(n.maxNumberOfInputs=e));var r=this,i=this._inputList.getInputs();st.each(i,(function(t,e){e.getStatus()===u._z&&r.failInput(t,n)}))}},{key:"getBytesInJob",value:function(){return this._inputList.getBytesInJob()}},{key:"getSizeOfAllInputs",value:function(){return this._inputList.getSizeOfAllInputs()}},{key:"isInputLimitReached",value:function(){return this._inputList.isInputLimitReached()}},{key:"waitForRemoteInput",value:function(t){var e=this.getInput(t).getInputId(),n=this;this._job.waitForRemoteInput(e).done((function(e){(0,r.Mk)(e),n.getInput(t).setSize(e.size),n.getInput(t).setName(e.filename);var i=(0,j.W)(e.metadata);if((0,o.jV)(e)){var a=n.getInput(t);a.setMetadata(e.metadata).setContentType(e.content_type).setEngine(e.engine),a.getType()===u.__&&a.setSource(e.source)}n._enablePasswords&&i?(n.getInput(t).setStatus(u.Y1),n.dispatchInputEvent(y.vE,t)):(n.getInput(t).setStatus(u.Ky),n.dispatchInputEvent(y.o0,t))})).fail((function(e){if((0,c.T)(e),e===v.lV){var r=new pt(v.sZ);a.P.log("qgMultiUpload wait for remote input - file too large"),n.failInput(t,r),n.dispatchGlobalEvent(y.yR)}var i=new pt(e);n.failInput(t,i)}))}},{key:"addInputId",value:function(t){this._addInputIdHelper.add(t)}},{key:"addExternalUrl",value:function(t,e){(0,o.vV)(e)&&(e="auto"),this._addExternalUrlHelper.add(t,e)}},{key:"addExternalUrls",value:function(t){(0,i.bG)(t);var e=this._addExternalUrlHelper;t.forEach((function(t){e.add(t)}))}},{key:"addDropbox",value:function(){this._addDropboxHelper.add()}},{key:"addGdrive",value:function(t,e,n,r){this._addGdriveHelper.add(t,e,n,r)}},{key:"_tryToSetSatLimitsFromJobInfo",value:function(t){var e=null;try{e=t.sat.constraints,(0,ut.d)().setConstraints(e)}catch(t){}if(null!==e){try{var n=e.job.general.max_size;"string"==typeof n&&(n=parseInt(n)),(0,o.uC)(n)&&!isNaN(n)&&n>0&&(this._maxFileSize=n)}catch(t){}try{if(!this._singleInput){var r=e.job.inputs.max_count;"string"==typeof r&&(r=parseInt(r)),(0,o.uC)(r)&&!isNaN(r)&&r>0&&(this._inputList._maxNumberOfInputs=r)}}catch(t){}}}},{key:"clickFileUpload",value:function(){this._addFileUploadHelper.click()}},{key:"clickDropBox",value:function(){this._addDropboxHelper.click()}},{key:"clickGdrive",value:function(){this._addGdriveHelper.click()}},{key:"clickRemoteUrl",value:function(t,e){this._addExternalUrlHelper.click(t,e)}}])&&ct(e.prototype,n),p&&ct(e,p),Object.defineProperty(e,"prototype",{writable:!1}),t}()},376:function(t,e,n){n.d(e,{Y:function(){return p}});n(68309),n(19601),n(41539),n(39714),n(47042),n(47941),n(82772),n(26699),n(32023),n(89554),n(54747),n(82526),n(41817),n(32165),n(66992),n(78783),n(33948),n(96649),n(96078),n(9653),n(69070);var r=n(72997),i=n(19755);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e,n){try{void 0!==i&&i.hasOwnProperty("ajax")&&function(t,e,n){var r=2,o=0,a={url:t,method:"POST",data:{data:n},xhrFields:{withCredentials:e}};!function t(){i.ajax(a).fail((function(e,n,i){o>=r||(o+=1,setTimeout((function(){t(a)}),1e3*(5*o)))}))}()}(t,e,n)}catch(t){}}function s(t,e,n){t+="?withBeacon=true";var r=new Blob([JSON.stringify({data:n})],{type:"text/plain"});try{!function(t,e){navigator.sendBeacon(t,e)}(t,r)}catch(t){}}function l(t){if(void 0===t)return{};if(null===t)return{};var e={};if(void 0!==t.message&&(e.exception_message=t.message),void 0!==t.name&&(e.exception_name=t.name),void 0!==t.columnNumber&&(e.exception_column=t.columnNumber),void 0!==t.lineNumber&&(e.exception_line=t.lineNumber),void 0!==t.fileName&&(e.exception_file=t.fileName),void 0!==t.stack){var n="no valid stack info";if("string"==typeof t.stack)n=t.stack;else try{n=JSON.stringify(t.stack)}catch(t){n="failed to create stack: "+t.message}e.exception_stack=n}return e}function c(t,e,n){"string"!=typeof t&&(t="no valid message in log");var i={message:t};try{if(Object.assign(i,e),void 0===n);else if(null===n);else if("string"==typeof n)i.info=n;else if("number"==typeof n)i.info=n.toString();else if(n.isAxiosError){var o,u,s=n,c=null==s||null===(o=s.response)||void 0===o?void 0:o.status;(0,r.uC)(c)&&(i.http_status=c);var p=null==s||null===(u=s.response)||void 0===u?void 0:u.data;p&&(i.info=JSON.stringify(p))}else if(n instanceof Error){var f=l(n);Object.assign(i,f)}else"object"===a(n)?Object.assign(i,n):i.info=JSON.stringify(n);try{i.page_url=window.location.href}catch(t){}"string"==typeof i.info&&(i.info=function(t){var e={new_user_password:"new_user_password",u_confirm_password:"u_confirm_password",new_owner_password:"new_owner_password",confirm_password:"confirm_password"};try{t=JSON.parse(t)}catch(e){return t}if(void 0!==t.options)for(var n in e)t.options.hasOwnProperty(n)&&(t.options[n]="**REMOVED**");return JSON.stringify(t)}(i.info)),(0,r.Rt)(i.referrer)&&(i.referrer=i.referrer.slice(0,500))}catch(n){(i={}).info="message: "+t,i.message="exception in logger",i.exception_message=n.message,e.hasOwnProperty("job_id")&&(i.job_id=e.job_id),e.hasOwnProperty("extra_uid")&&(i.extra_uid=e.extra_uid)}return i}var p=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==a(e))throw new Error("Logger needs options object");if("string"!=typeof e.url)throw new Error("Logger needs url");this._url=e.url,this._cors=!0===e.cors,this._baseLogData={},this._maxNumberOfLogs=1e3,"number"==typeof e.maxNumberOfLogs&&(this._maxNumberOfLogs=e.maxNumberOfLogs),this._numberOfLogsSent=0,"string"==typeof e.extraUid&&this.addLogData("extra_uid",e.extraUid)}var e,n,i;return e=t,(n=[{key:"parseError",value:function(t){return l(t)}},{key:"addLogData",value:function(t,e){this._baseLogData[t]=e}},{key:"log",value:function(t,e,n,i){if(this._numberOfLogsSent++,i||(i=!1),!(this._numberOfLogsSent>this._maxNumberOfLogs))try{var o,a=c(t,this._baseLogData,e);void 0!==n&&(a.level=n),a.version=null!==(o="v16.4.6")?o:"a36fe2";try{var l,p=null===(l=document)||void 0===l?void 0:l.referrer;(0,r.Rt)(p)&&(a.referrer=p)}catch(t){}i?s(this._url,this._cors,a):u(this._url,this._cors,a),(-1!==window.location.href.indexOf(".test")||window.location.href.includes("local"))&&console.log(a.message,e)}catch(t){console.log("error sending log",t.message)}}},{key:"getNavigationData",value:function(){try{var t=[],e=performance.getEntriesByType("navigation");return Array.isArray(e)&&0!==e.length?(e.forEach((function(e){if(!e.type)return"";t.push(e.type)})),JSON.stringify(t)):""}catch(t){return""}}},{key:"debug",value:function(t,e){this.log(t,e,100)}},{key:"info",value:function(t,e){this.log(t,e,200)}},{key:"notice",value:function(t,e){this.log(t,e,250)}},{key:"warning",value:function(t,e){this.log(t,e,300)}},{key:"error",value:function(t,e){this.log(t,e,400)}},{key:"critical",value:function(t,e){this.log(t,e,500)}},{key:"alert",value:function(t,e){this.log(t,e,550)}},{key:"emergency",value:function(t,e){this.log(t,e,600)}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},17105:function(t,e,n){n.d(e,{T:function(){return a}});var r=n(90289),i=n(72997),o=n(74336),a=function(t){if(!function(t){return!!(0,i.Rt)(t)&&(0,i.ml)(o.NW,t)}(t))throw new Error((0,r.R)("not valid apiError"))}},64185:function(t,e,n){n.d(e,{Do:function(){return u},d8:function(){return l},gY:function(){return c},xs:function(){return s}});n(89554),n(41539),n(54747),n(73210),n(92222);var r=n(38232),i=n(23091),o=n(72997);function a(){var t=document.cookie,e={};return t.split(";").forEach((function(t){var n=t.split("=");if(2===n.length){var r=n[0].trim().toLowerCase(),i=n[1].trim();e[r]=i}})),e}function u(t){return s(t)?a()[t.toLowerCase().trim()]:null}function s(t){var e=a(),n=t.toLowerCase().trim();return e.hasOwnProperty(n)}function l(t,e,n,a,u){(0,i.LJ)(t),(0,o.Rt)(u)||(u=r.f.getCookieDomain()),(0,o.Rt)(a)||(a="/");var s="".concat(t,"=").concat(e,"; max-age=").concat(n,"; path=").concat(a,";");u&&(s+="domain=".concat(u,";")),document.cookie=s}var c={isCookieSet:s,getCookieValue:u,setCookie:l}},92735:function(t,e,n){n.d(e,{W:function(){return o}});var r=n(87506),i=n(72997),o=function(t){if(!(0,i.jV)(t))return!1;var e=t.hasOwnProperty("password_protected"),n=t.hasOwnProperty("password_valid"),o=t.hasOwnProperty("unsupported_encryption"),a=t.hasOwnProperty("pdf_has_user_password"),u=t.hasOwnProperty("pdf_has_owner_password"),s=t.hasOwnProperty("pdf_password_valid");return!(!n&&!e)&&(e&&!1===t.password_protected?(a&&!0===t.pdf_has_user_password&&r.P.error("password helper info","password fields broken: "+JSON.stringify(t)),u&&!0===t.pdf_has_owner_password&&r.P.error("password helper info","password fields broken: "+JSON.stringify(t)),!1):(!o||!0!==t.unsupported_encryption)&&(n&&e?(!0!==t.password_protected&&!1!==t.password_protected&&r.P.error("password helper info","password_protected not a boolean value: "+JSON.stringify(t)),!0===t.password_protected&&(u||a||s?u&&a&&s?t.password_valid!==t.pdf_password_valid?(r.P.error("password helper info","pdf password valid inconsistent state: "+JSON.stringify(t)),!1):!0===t.pdf_has_user_password&&!t.pdf_password_valid:(r.P.error("password helper info","pdf password fields missing: "+JSON.stringify(t)),!1):!(!0===t.password_valid))):(r.P.error("password helper info","password fields broken: "+JSON.stringify(t)),!1)))}},40406:function(t,e,n){n.d(e,{AK:function(){return d},MF:function(){return f},NC:function(){return h},TL:function(){return c}});n(82772),n(73210),n(47042),n(69600),n(89554),n(41539),n(54747),n(74916),n(64765),n(82526),n(41817),n(32165),n(66992),n(78783),n(33948),n(91038),n(39714),n(68309);var r=n(72997),i=n(23091),o=n(87506);function a(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){var e=!0;return t.split("&").forEach((function(t,n){(function(t){try{decodeURIComponent(t)}catch(t){return!1}if(-1!==t.indexOf("&")||-1!==t.indexOf("#"))return!1;var e=t.split("=");if(2!==e.length&&3!==e.length)return!1;var n=e[0].trim(),r=e[1];if(0===n.length)return!1;try{decodeURIComponent(r)}catch(t){return!1}return!0})(t)||(e=!1)})),e}function l(t){if(!s(t))return o.P.log("invalid fragment or query in url",JSON.stringify(t)),null;var e={},n=t.split("&"),r=!1;return n.forEach((function(t,n){var i=function(t){var e=a(t.split("=")),n=e[0],r=e.slice(1).join("=");if(0===(n=n.trim().toLowerCase()).length)return null;try{r=decodeURIComponent(r)}catch(t){return null}return[n,r]}(t);if(null!==e){r=!0;var o=i[0],u=i[1];e[o]=u}})),r?e:null}function c(t){var e;if((0,r.vV)(t))e=location.hash.trim();else{var n=document.createElement("a");n.href=t,e=n.hash.trim()}return"#"!==e.charAt(0)?null:e.substring(1)}function p(t){var e=function(t){var e;if((0,r.vV)(t))e=location.search.trim();else{var n=document.createElement("a");n.href=t,e=n.search.trim()}return"?"!==e.charAt(0)?null:e.substring(1)}(t);if(null===e)return{};var n=l(e);return null===n?{}:n}function f(){return p()}function d(){return function(t){var e=c(t);if(null===e)return{};var n=l(e);return null===n?{}:n}()}function h(t){(0,i.pX)(t);var e=t.trim().toLowerCase(),n=d();if(n.hasOwnProperty(e))return n[e];var r=f();return r.hasOwnProperty(e)?r[e]:null}},46144:function(t,e,n){n.r(e),n.d(e,{unpublishedPage:function(){return s}});var r=n(87506),i=n(72997),o=n(38232),a=n(19755);function u(){var t=a("#pageVersionActivatingStatus").val(),e=a("#pagePublishedFalse").val();window.location.href;"prod"===o.f.getEnv()&&r.P.log("Page is visible even though it should not be!"),(0,i.Zz)(t)||a(".inactive-page-version-toast").toast("show"),(0,i.Zz)(e)||a(".unpublished-page-toast").toast("show")}u();var s={init:u}},27837:function(t,e,n){n.d(e,{_:function(){return r}});n(41539),n(39714);var r=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}},87600:function(t,e,n){n.r(e);n(82526),n(41817),n(41539),n(32165),n(66992),n(78783),n(33948);var r=n(376);n(73210);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o={url:"/api/z",cors:!1,maxNumberOfLogs:500,extraUid:(0,n(27837)._)()};if("object"===i(window.qgLoggerOptions)){var a=window.qgLoggerOptions;"string"==typeof a.url&&(o.url=a.url),o.cors=!0===a.cors}var u=new r.Y(o);!function(t){var e=window.onerror;window.onerror=function(n,r,i,o,a){try{if(function(t){var e=t;try{if("script error."===(e=(e=e.toLowerCase()).trim())||"script error"===e)return!1;if("access is denied."===e||"access is denied"===e)return!1}catch(t){}return!0}(n)){var u={};null!=a&&(u=t.parseError(a)),u.exception_message=n,void 0!==r&&(u.exception_source=r),void 0!==i&&(u.exception_line=i),void 0!==o&&(u.exception_column=o),t.error("Uncaught JS Exception",u)}}catch(e){t.error("onerror exception",e)}return"function"==typeof e&&e(n,r,i,o,a),!1}}(u),window.qgLogger=u}}]);