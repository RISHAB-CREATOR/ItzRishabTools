<!DOCTYPE html><html lang="en">
<!-- Mirrored from ip-api.com/docs/dns by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Aug 2023 12:33:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><style>html{visibility:hidden;opacity:0}</style><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content="Free IP Geolocation API - lookup any IP address"><meta name="keywords" content="ip api, ip geolocation, geoip, geolocation, ip to location, my ip address, reversedns, dns api, visitor localization, json ip, php ip, csv ip, xml ip"><title>IP-API.com - Geolocation API - Documentation - DNS JSON</title><link rel="preload" href="static/dosis-v8-latin-200.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="static/dosis-v8-latin-500.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="static/dosis-v8-latin-regular.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="static/open-sans-v16-latin-300.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="static/open-sans-v16-latin-600.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="static/open-sans-v16-latin-regular.woff2" as="font" type="font/woff2" crossorigin><link href="static/page.css" rel="stylesheet"><link rel="icon" href="../favicon.ico"></head><body class="body-scrolled navbar-scrolled header-scrolled"><nav class="navbar navbar-expand-lg navbar-dark stick" data-navbar="fixed"><div class="container"><div class="navbar-left"><a class="navbar-brand" href="../index.html"><img class="logo-dark" src="static/logo.png" alt="logo" width="90" height="23"></a></div><div class="navbar-mobile"><nav class="nav nav-navbar ml-auto"><a class="nav-link" href="../docs">Documentation</a> <a class="nav-link" href="https://members.ip-api.com/">Sign up</a> <a class="nav-link" href="mailto:contact@ip-api.com">Contact</a></nav></div></div></nav><header class="header text-white bg-dark pt-9 pb-7"><div class="container"><h3>Client Subnet and DNS server API</h3></div></header><main class="main-content"><div class="container"><div class="row"><div class="col-md-7 col-xl-10 mr-md-auto py-4"><article><p class="lead">Call the API by sending HTTP GET requests to<br><code>http://<i>[32 random alphanumeric characters]</i>.edns.ip-api.com/json</code></p><p>Alternatively, for automatic redirection (slower)<br><code>http://edns.ip-api.com/json</code></p><p class="lead">Please make sure to make the request from the client's browser. Sending this request from your own server will return the DNS info for that server, which is probably not useful.</p><hr><h3 id="test" class="fw-200">Example</h3><div class="resource-endpoint-section"><table><tbody><tr><td class="method">GET</td><td class="endpoint"><div class="row"><div class="col" style="margin-top:6px">http://edns.ip-api.com/json</div></div></td></tr></tbody></table></div><div class="code-section"><figure class="code-block"><figcaption class="language">example response</figcaption><pre class="code language-markup"><code>{
    <span class="key">"dns":</span> {
        <span class="key">"ip":</span> <span class="string">"74.125.73.83"</span>,
        <span class="key">"geo":</span> <span class="string">"United States - Google"</span>
    },
    <span class="key">"edns":</span> {
        <span class="key">"ip":</span> <span class="string">"91.198.174.0"</span>,
        <span class="key">"geo":</span> <span class="string">"Netherlands - Wikimedia Foundation"</span>
    }
}
</code></pre></figure></div><p><code>dns</code> contains the IP address and Geolocation (country, ISP) of the DNS server the client used.<br><code>edns</code> contains the IP address and Geolocation (country, ISP) of the client. If the DNS server did not send the client subnet, the edns field will be be absent.<br><br>Results are cached for 60 seconds from the time of the DNS query. If the requested result (domain) expired, the user will be redirected to a new, randomly generated domain.<br><br>We are whitelisted for edns-client-subnet with Google Public DNS and OpenDNS.<hr><h3 class="fw-200">Testing the API</h3></p><p>Test via Google Public DNS:</p><pre>API_HOST=$(&lt;/dev/urandom tr -dc a-z0-9|head -c32).edns.ip-api.com; API_IP=$(dig $API_HOST +short @<span class="br0">8.8.8.8</span>); curl -H &quot;Host: $API_HOST&quot; http://$API_IP/json</pre><p>Test via OpenDNS:</p><pre>API_HOST=$(&lt;/dev/urandom tr -dc a-z0-9|head -c32).edns.ip-api.com; API_IP=$(dig $API_HOST +short @<span class="br0">208.67.222.222</span>); curl -H &quot;Host: $API_HOST&quot; http://$API_IP/json
</pre><hr><h3 class="fw-200">Callback (JSONP)</h3><p>By default there is no callback function called, but you can supply your own with the GET parameter <code>callback</code></p>Example: <code>http://edns.ip-api.com/json/?callback=<i>{callback}</i></code><hr><h3 class="fw-200">Usage limits</h3><p>We do not allow commercial use of this endpoint. Please see our <a href="https://members.ip-api.com/">pro service</a> for SSL access, unlimited queries and commercial support.</p></article></div></div></div></main><footer id="footer" class="footer py-9"><div class="container"><div class="row gap-y"><div class="col-xl-4 order-md-last"><h6 class="mb-4"><strong>Go pro</strong></h6><p>Get unlimited queries, SSL and commercial use</p><a class="btn btn-primary mr-2" href="https://members.ip-api.com/">Sign up</a> <a class="btn btn-secondary" href="mailto:contact@ip-api.com">Contact</a></div><div class="col-6 col-md-4 col-xl-2"><h6 class="mb-4"><strong>Response Formats</strong></h6><div class="nav flex-column"><a class="nav-link" href="api_json">JSON</a> <a class="nav-link" href="api_xml.html">XML</a> <a class="nav-link" href="api_csv.html">CSV</a> <a class="nav-link" href="api_newline_separated.html">Newline</a> <a class="nav-link" href="api_serialized_php.html">PHP</a></div></div><div class="col-6 col-md-4 col-xl-2"><h6 class="mb-4"><strong>API</strong></h6><div class="nav flex-column"><a class="nav-link" href="api_batch.html">Batch API</a> <a class="nav-link" href="dns.html">DNS API</a> <a class="nav-link" href="correction.html">Data Correction</a></div></div><div class="col-xl-4 order-md-first"><h6 class="mb-6"><img class="mt-2" src="static/logo.png" alt="logo" width="135" height="35"></h6><small class="opacity-70">Â© 2022 ip-api.com. All rights reserved.</small><br><a class="ma" href="legal.html">Terms and Policies</a><br><a class="ma" href="https://status.ip-api.com/">Service status</a></div></div></div></footer></body>
<!-- Mirrored from ip-api.com/docs/dns by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Aug 2023 12:33:23 GMT -->
</html>